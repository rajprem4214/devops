App Engine: Qwik Start - Python | Google Cloud Skills Boost

Task 1. Enable Google App Engine Admin API
The App Engine Admin API enables developers to provision and manage their App Engine Applications.

In the left Navigation menu, click APIs & Services > Library.
Type "App Engine Admin API" in the search box.
Click the App Engine Admin API card.
Click Enable. If there is no prompt to enable the API, then it is already enabled and no action is needed.
Task 2. Download the Hello World app
There is a simple Hello World app for Python you can use to quickly get a feel for deploying an app to Google Cloud. Follow these steps to download Hello World to your Google Cloud instance.

Enter the following command to copy the Hello World sample app repository to your Google Cloud instance:
git clone https://github.com/GoogleCloudPlatform/python-docs-samples.git
Copied!
Go to the directory that contains the sample code:
cd python-docs-samples/appengine/standard_python3/hello_world
Copied!
Task 3. Test the application
Test the application using the Google Cloud development server (dev_appserver.py), which is included with the preinstalled App Engine SDK.

From within your helloworld directory where the app's app.yaml configuration file is located, start the Google Cloud development server with the following command:
dev_appserver.py app.yaml
Copied!
The development server is now running and listening for requests on port 8080.

View the results by clicking the Web preview (web preview icon) > Preview on port 8080.

You'll see this in a new browser window:

Browser window with Hello World! on the page

Task 4. Make a change
You can leave the development server running while you develop your application. The development server watches for changes in your source files and reloads them if necessary.

Let's try it. Leave the development server running. We'll open another command line window, then edit main.py to change "Hello World!" to "Hello, Cruel World!".

Click the (+) next to your Cloud Shell tab to open a new command line session.

+ button

Enter this command to go to the directory that contains the sample code:

cd python-docs-samples/appengine/standard_python3/hello_world
Copied!
Enter the following to open main.py in nano to edit the content:
nano main.py
Copied!
Change "Hello World!" to "Hello, Cruel World!".

Save the file with CTRL-S and exit with CTRL-X.

Reload the Hello World! Browser or click the Web Preview (web preview icon) > Preview on port 8080 to see the results.

Browser window with Hello, Cruel World! on the page

Task 5. Deploy your app
To deploy your app to App Engine, run the following command from within the root directory of your application where the app.yaml file is located:
gcloud app deploy
Copied!
Enter the number that represents your region: <REGION>
The App Engine application will then be created.
Example output:


Creating App Engine application in project [qwiklabs-gcp-233dca09c0ab577b] and region ["REGION"]....done.
Services to deploy:

descriptor:      [/home/gcpstaging8134_student/python-docs-samples/appengine/standard/hello_world/app.yaml]
source:          [/home/gcpstaging8134_student/python-docs-samples/appengine/standard/hello_world]
target project:  [qwiklabs-gcp-233dca09c0ab577b]
target service:  [default]
target version:  [20171117t072143]
target url:      [https://qwiklabs-gcp-233dca09c0ab577b.appspot.com]

Do you want to continue (Y/n)?
Enter Y when prompted to confirm the details and begin the deployment of service.
Example output:

Beginning deployment of service [default]...
Some files were skipped. Pass `--verbosity=info` to see which ones.
You may also view the gcloud log file, found at
[/tmp/tmp.dYC7xGu3oZ/logs/2017.11.17/07.18.27.372768.log].
╔════════════════════════════════════════════════════════════╗
╠═ Uploading 5 files to Google Cloud Storage                ═╣
╚════════════════════════════════════════════════════════════File upload done.
Updating service [default]...done.
Waiting for operation [apps/qwiklabs-gcp-233dca09c0ab577b/operations/2e88ab76-33dc-4aed-93c4-fdd944a95ccf] to complete...done.
Updating service [default]...done.
Deployed service [default] to [https://qwiklabs-gcp-233dca09c0ab577b.appspot.com]

You can stream logs from the command line by running:
  $ gcloud app logs tail -s default

To view your application in the web browser run:
  $ gcloud app browse
Note: If you receive an error as "Unable to retrieve P4SA" while deploying the app, then re-run the above command.
Task 6. View your application
To launch your browser enter the following command, then click on the link it provides:
gcloud app browse
Copied!
Example output (note that your link will be different):

Did not detect your browser. Go to this link to view your app:
https://qwiklabs-gcp-233dca09c0ab577b.appspot.com
Browser window with Hello, Cruel Word! on the page

Your application is deployed and you can read the short message in your browser.

Click Check my progress to verify the objective.